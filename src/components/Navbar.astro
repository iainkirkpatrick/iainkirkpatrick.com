---
import NavLink from './NavLink.astro';

import { SITE_TITLE } from '../constants';

const { pathname } = Astro.url;
const homeIsActive = pathname === '/' || pathname === '';
---

<header class="flex w-full">
  <nav class="relative px-6 pt-8 md:px-12 flex flex-row w-full items-end justify-between">
    <div class="absolute -bottom-[4px] inset-x-0 w-full h-[2px]">
      <div class="px-12 w-full h-full">
        <div class="w-full h-full bg-black/50"></div>
      </div>
    </div>
    <div class="flex flex-col">
      <span class="text-xs text-slate-400">home</span>
      <a class="group relative inline-flex flex-col items-start transition-colors duration-100 ease-linear focus-visible:outline-none focus-visible:shadow-bottom-ring" href="/" aria-current={homeIsActive ? 'page' : undefined}>
        <h2 class="font-semibold">{SITE_TITLE}</h2>
        <span
          aria-hidden="true"
          class:list={[
            'pointer-events-none absolute left-0 -bottom-[4px] block h-[2px] w-0 bg-red-500 transition-all duration-200 group-hover:w-full group-focus-visible:w-full',
            { 'w-full': homeIsActive }
          ]}
        ></span>
      </a>
    </div>
    <ul class="flex gap-4 grow justify-end">
      <li class="flex flex-col">
        <span class="text-xs text-slate-400">nav-item</span>
        <NavLink href="/posts">posts</NavLink>
      </li>
      <!-- <li>
        <NavLink href="/projects">projects</NavLink>
      </li> -->
      <li>
      <li class="flex flex-col">
        <span class="text-xs text-slate-400">nav-item</span>
        <NavLink href="/about">about</NavLink>
      </li>
    </ul>
  </nav>
</header>
